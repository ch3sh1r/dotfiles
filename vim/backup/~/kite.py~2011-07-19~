#!/usr/bin/env python
# -*- coding: utf-8 -*-

import time
import pexpect
import fcntl
import os
import sys
import optparse
import threading
try:
    import psyco
    psyco.full()
except ImportError:
    print 'Psyco not installed, the program will just run slower.'


class wpaAP():
    def __init__(self, card, channel, ap, cli):
        threading.Thread.__init__(self)
        self.card       = card
        self.channel    = channel
        self.ap         = ap
        self.cli        = cli

    def check_handshake():
        try:
            r,w,e=popen3("aircrack-ng  /tmp/autohs*.cap ");
            hs=True
        except KeyboardInterrupt:
        r.close();e.close();w.close()
        clean()
        for line in r.readlines():
            if line.lower().find("0 handshake") != -1: hs=False
            if line.lower().find("no valid wpa handshake") != -1: hs=False
            if line.lower().find("no data") != -1: hs=False
            if line.lower().find("no networks found") != -1 : hs=False
        r.close();e.close();w.close()
        return hs


class wepAP():
    def __init__(self, card, chan, ap, cli):
        threading.Thread.__init__(self)
        self.card = card
        self.chan = chan
        self.ap = ap
        self.cli = cli

