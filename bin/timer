#!/usr/bin/env bash
if [ -z "$1" ]; then
  echo "Usage: $0 <minutes> [message]"
  exit 1
fi
duration="$1"
message=${2:-"Timer done!"}
start_time=$(date +%s)
while true; do
  current_time=$(date +%s)
  elapsed_time=$((current_time - start_time))
  remaining_time=$((duration * 60 - elapsed_time))
  if [ $remaining_time -le 0 ]; then
    echo -e "\rTime is up!"
    exit 0
  fi
  echo -ne "\r${remaining_time}s "
  sleep 1
done
